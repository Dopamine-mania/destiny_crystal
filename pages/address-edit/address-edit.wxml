<view class="container">
  <!-- 页面头部 -->
  <view class="header">
    <view class="header-content">
      <view class="back-btn" bindtap="onBack">
        <text class="back-icon">←</text>
      </view>
      <view class="title">
        <text class="title-text">{{isEdit ? '编辑地址' : '新增地址'}}</text>
      </view>
      <view class="placeholder"></view>
    </view>
  </view>

  <!-- 表单区域 -->
  <view class="form-section">
    <!-- 收货人信息 -->
    <view class="form-group">
      <view class="form-item">
        <text class="label">收货人</text>
        <input 
          class="input" 
          placeholder="请输入收货人姓名"
          value="{{formData.name}}"
          bindinput="onNameInput"
          maxlength="20"
        />
      </view>
      
      <view class="form-item">
        <text class="label">手机号</text>
        <input 
          class="input" 
          placeholder="请输入手机号"
          value="{{formData.phone}}"
          bindinput="onPhoneInput"
          type="number"
          maxlength="11"
        />
      </view>
    </view>

    <!-- 地区选择 -->
    <view class="form-group">
      <view class="form-item region-item">
        <text class="label">所在地区</text>
        <picker 
          mode="region" 
          value="{{regions}}" 
          bindchange="onRegionChange"
          class="region-picker"
        >
          <view class="picker-content">
            <text class="region-text">{{formData.province}} {{formData.city}} {{formData.district}}</text>
            <text class="arrow">→</text>
          </view>
        </picker>
      </view>
    </view>

    <!-- 详细地址 -->
    <view class="form-group">
      <view class="form-item detail-item">
        <text class="label">详细地址</text>
        <textarea 
          class="textarea" 
          placeholder="街道、门牌号、楼层等详细信息"
          value="{{formData.detail}}"
          bindinput="onDetailInput"
          maxlength="100"
          auto-height
        />
      </view>
    </view>

    <!-- 地址标签 -->
    <view class="form-group">
      <view class="label-section">
        <text class="label">地址标签</text>
        <view class="tag-list">
          <view 
            wx:for="{{tags}}" 
            wx:key="index"
            class="tag-item {{formData.tag === item ? 'selected' : ''}}"
            bindtap="onTagSelect"
            data-tag="{{item}}"
          >
            <text class="tag-text">{{item}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 默认地址 -->
    <view class="form-group">
      <view class="form-item default-item" bindtap="onDefaultToggle">
        <text class="label">设为默认地址</text>
        <view class="switch">
          <text class="switch-icon">{{formData.isDefault ? '☑️' : '☐'}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-section">
    <button class="save-btn" bindtap="onSave">
      <text class="btn-text">{{isEdit ? '保存修改' : '保存地址'}}</text>
    </button>
  </view>
</view>