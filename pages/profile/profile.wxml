<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="user-header">
    <view class="user-avatar">
      <text class="avatar-icon">{{userInfo.avatar}}</text>
    </view>
    <view class="user-info">
      <view class="user-name">{{userInfo.name}}</view>
      <view class="user-level {{userInfo.isPremium ? 'premium' : 'normal'}}">
        <text class="level-icon">{{userInfo.isPremium ? 'ğŸ‘‘' : 'ğŸ”°'}}</text>
        <text class="level-text">{{userInfo.memberLevel}}</text>
      </view>
      <!-- ä¼šå‘˜åˆ°æœŸæ—¶é—´ -->
      <view wx:if="{{userInfo.isPremium && userInfo.memberExpireDate}}" class="expire-info">
        <text class="expire-text">ä¼šå‘˜åˆ°æœŸ: {{userInfo.memberExpireDate}}</text>
      </view>
    </view>
    <view class="user-actions">
      <view class="member-badge {{userInfo.isPremium ? 'active' : ''}}" bindtap="navigateToMember">
        {{userInfo.isPremium ? 'ä¼šå‘˜' : 'å‡çº§'}}
      </view>
    </view>
  </view>

  <!-- å¿«æ·ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stat-item">
      <text class="stat-number">{{menuItems[0].count}}</text>
      <text class="stat-label">å†å²æŠ¥å‘Š</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{menuItems[1].count}}</text>
      <text class="stat-label">è®¢å•æ•°é‡</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{menuItems[3].count}}</text>
      <text class="stat-label">ä¼˜æƒ åˆ¸</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="section-title">æˆ‘çš„æœåŠ¡</view>
    <view class="menu-grid">
      <view 
        wx:for="{{menuItems}}" 
        wx:key="id" 
        class="menu-item {{item.highlight ? 'highlight' : ''}}"
        bindtap="onMenuTap"
        data-id="{{item.id}}"
      >
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-content">
          <view class="menu-title">{{item.title}}</view>
          <view class="menu-desc">{{item.desc}}</view>
        </view>
        <view class="menu-extra">
          <text wx:if="{{item.count}}" class="count-badge">{{item.count}}</text>
          <text class="arrow">{{item.id === 'orders' ? (showOrderSubMenu ? 'âŒ„' : '>') : '>'}}</text>
        </view>
        
        <!-- è®¢å•å­èœå• -->
        <view wx:if="{{item.id === 'orders' && showOrderSubMenu}}" class="sub-menu">
          <view 
            wx:for="{{item.subItems}}" 
            wx:key="key" 
            class="sub-menu-item"
            bindtap="onOrderSubMenuTap"
            data-status="{{item.key}}"
            catchtap="true"
          >
            <text class="sub-menu-text">{{item.name}}</text>
            <text wx:if="{{item.count > 0}}" class="sub-menu-count">{{item.count}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä¼šå‘˜ç‰¹æƒå±•ç¤º -->
  <view wx:if="{{!userInfo.isPremium}}" class="member-promotion">
    <view class="promotion-header">
      <text class="promotion-title">ğŸŒŸ å¼€é€šä¼šå‘˜äº«ç‰¹æƒ</text>
    </view>
    <view class="promotion-features">
      <view class="feature-item">
        <text class="feature-icon">âœ¨</text>
        <text class="feature-text">è§£é”æ‰€æœ‰æ·±åº¦åˆ†æ</text>
      </view>
      <view class="feature-item">
        <text class="feature-icon">ğŸ¯</text>
        <text class="feature-text">ä¸“å±å–œç”¨ç¥æ¨è</text>
      </view>
      <view class="feature-item">
        <text class="feature-icon">ğŸ’</text>
        <text class="feature-text">ä¸ªæ€§åŒ–æ°´æ™¶æ–¹æ¡ˆ</text>
      </view>
    </view>
    <button class="upgrade-btn" bindtap="navigateToMember">
      <text class="btn-text">ç«‹å³å¼€é€šå¹´åº¦ä¼šå‘˜ Â¥99.9</text>
    </button>
  </view>

  <!-- å·²å¼€é€šä¼šå‘˜æ˜¾ç¤º -->
  <view wx:if="{{userInfo.isPremium}}" class="member-status">
    <view class="status-header">
      <text class="status-title">ğŸ‘‘ ä¼šå‘˜ç‰¹æƒå·²å¼€é€š</text>
    </view>
    <view class="status-content">
      <text class="status-text">äº«å—æ‰€æœ‰æ·±åº¦åˆ†æåŠŸèƒ½</text>
      <text class="expire-text">æ°¸ä¹…æœ‰æ•ˆ</text>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <view class="bottom-actions">
    <button class="back-btn" bindtap="onBackToHome">
      <text class="btn-icon">ğŸ </text>
      <text>è¿”å›é¦–é¡µ</text>
    </button>
  </view>
</view>